<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
<f:view locale="#{localeBean.locale}">
<h:head>
    <title>#{msg['resumenTitulo']}</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <style>
        body { background: linear-gradient(135deg, #e1f5fe, #b3e5fc); }
        .card { border-radius: 15px; }
    </style>
</h:head>
<h:body>
    <div class="container py-5">
        <h:form>
            <div class="card shadow-sm">
                <div class="card-body p-4">
                    <h2 class="text-center mb-4" style="color:#01579b;">#{msg['resumenTitulo']}</h2>
                    
                    <h:dataTable value="#{deporteBean.resumen}" var="act" 
                                 styleClass="table table-striped"
                                 rendered="#{not empty deporteBean.resumen}">
                        <h:column>
                            <f:facet name="header">#{msg['detalleNombre']}</f:facet>
                            #{act.nombre}
                        </h:column>
                         <h:column>
                            <f:facet name="header">#{msg['detalleDist']}</f:facet>
                            #{act.distancia} km
                        </h:column>
                        <h:column>
                            <f:facet name="header">#{msg['detalleDur']}</f:facet>
                            #{act.duracion} min
                        </h:column>
                        <h:column>
                            <f:facet name="header">#{msg['detalleCal']}</f:facet>
                            #{act.calorias} kcal
                        </h:column>
                    </h:dataTable>
                    
                    <h:panelGroup rendered="#{empty deporteBean.resumen}">
                        <p class="text-center text-muted">#{msg['resumenVacio']}</p>
                    </h:panelGroup>

                    <h:panelGroup rendered="#{not empty deporteBean.resumen}">
                        <hr/>
                        <div class="row text-center mt-4">
                            <div class="col">
                                <h5>#{msg['resumenTotalDist']}</h5>
                                <p>#{deporteBean.totalDistancia} km</p>
                            </div>
                            <div class="col">
                                <h5>#{msg['resumenTotalDur']}</h5>
                                <p>#{deporteBean.totalDuracion} min</p>
                            </div>
                            <div class="col">
                                <h5>#{msg['resumenTotalCal']}</h5>
                                <p>#{deporteBean.totalCalorias} kcal</p>
                            </div>
                        </div>
                    </h:panelGroup>
                    
                    <div class="d-flex justify-content-between mt-5">
                        <h:commandButton value="#{msg['volverDeportes']}" 
                                         action="deportes.xhtml?faces-redirect=true" 
                                         styleClass="btn btn-secondary" />
                        <h:commandButton value="#{msg['generarPDF']}" 
                                         action="#{pdfBean.generarResumenPDF}" 
                                         styleClass="btn btn-info"
                                         disabled="#{empty deporteBean.resumen}" />
                    </div>
                </div>
            </div>
        </h:form>
    </div>
</h:body>
</f:view>
</html>